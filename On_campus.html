<!DOCTYPE html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<html lang="en">
    <head>
        <link rel="stylesheet" href="main.css">
        <meta charset="utf-8">
        <title>Lucy's Listings</title>
      </head>
        <div class="topnav">
          <a href="index.html">Lucy's Listings</a>
          <a class="active" href="On_campus.html">On Campus Housing</a>
          <a href="Off_campus.html">Off Campus Housing</a>
          <a href="Post_listing.html">Post a listing</a>
          <a href="about_page.html">About</a>
        </div>

        <select id="myselect" onchange="change_myselect(this.value)">
          <option value="">Choose an option:</option>
          <option value="Address">Address</option>
          <option value="Building">Building</option>
        </select>
        
        <script>
        function change_myselect(sel) {
          const dbParam = JSON.stringify({table:sel,limit:100});
          const xmlhttp = new XMLHttpRequest();
          xmlhttp.onload = function() {
            const myObj = JSON.parse("cmu_list.json");
            let text = "<table border='1'>"
            for (let x in myObj) {
              text += "<tr><td>" + myObj[x].address + "</td></tr>";
            }
            text += "</table>"
            document.getElementById("demo").innerHTML = text;
          }
          xmlhttp.open("POST", "json_demo_html_table.php");
          xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
          xmlhttp.send("x=" + dbParam);
        }
        </script>